<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon"
    href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>‚ù§Ô∏è</text></svg>" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Valentine's Day</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <script>
    window.onerror = function (message, source, lineno, colno, error) {
      if (message.includes("SecurityError") || message.includes("Pointer Lock")) {
        console.warn("Suppressing Pointer Lock Error: " + message);
        return;
      }
      alert("Global Error: " + message + "\nLine: " + lineno);
      console.error(error);
    };
  </script>
  <div id="app">
    <audio id="bg-music" loop>
      <source src="./raabta.mp3" type="audio/mpeg">
    </audio>

    <div id="audio-control" title="Play Music">
      <svg id="audio-icon" viewBox="0 0 24 24">
        <path
          d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z" />
      </svg>
    </div>

    <div id="login-overlay">
      <div class="glass-panel">
        <h1>Are you the one?</h1>
        <p class="subtitle">Enter the realm</p>

        <form id="login-form">
          <div class="input-group">
            <label for="user-name">What I call you?</label>
            <input type="text" id="user-name" required autocomplete="off" placeholder="Your designation..." />
          </div>

          <div class="input-group">
            <label for="system-name">What do you call me?</label>
            <input type="text" id="system-name" required autocomplete="off" placeholder="My designation..." />
          </div>

          <button type="submit" id="auth-btn">Authenticate</button>
        </form>
      </div>
    </div>

    <!-- Question Slides -->
    <!-- Q1 -->
    <div id="question-overlay-1" class="hidden question-slide">
      <div class="glass-panel">
        <div class="question-content">
          <h2>Question 1/4</h2>
          <img src="./question_1_scouts.png" alt="Scout and Guide" class="question-image" />
          <p class="question-text">what did you catch me staring at in scout and guide trip</p>
          <div class="input-group-vertical">
            <input type="text" id="q1-input" class="styled-input" placeholder="Type your answer..." autocomplete="off">
            <button class="submit-question-btn" data-input="q1-input" data-correct-val="legs">Submit</button>
            <p class="error-msg hidden">Try again!</p>
          </div>
        </div>
        <div class="quote-section hidden-content">
          <p class="quote-text">"jab pyaar kiya toh darna Kya, pyaar kiya koi chori nhi ki"</p>
          <button class="continue-btn" data-next="question-overlay-2">Continue</button>
        </div>
      </div>
    </div>

    <!-- Q2 -->
    <div id="question-overlay-2" class="hidden question-slide">
      <div class="glass-panel">
        <div class="question-content">
          <h2>Question 2/4</h2>
          <img src="./question_2_date.png" alt="First Date" class="question-image" />
          <p class="question-text">when did we go on our first official date?</p>
          <div class="input-group-vertical">
            <input type="date" id="q2-input" class="styled-input">
            <button class="submit-question-btn" data-input="q2-input" data-correct-val="2024-12-30">Submit</button>
            <p class="error-msg hidden">Try again!</p>
          </div>
        </div>
        <div class="quote-section hidden-content">
          <p class="quote-text">"imteha hogayi intezar ki aayi na koi khabar mere yaar ki"</p>
          <button class="continue-btn" data-next="question-overlay-3">Continue</button>
        </div>
      </div>
    </div>

    <!-- Q3 -->
    <div id="question-overlay-3" class="hidden question-slide">
      <div class="glass-panel">
        <div class="question-content">
          <h2>Question 3/4</h2>
          <img src="./question_3_class.png" alt="First I Love You" class="question-image" />
          <p class="question-text">when did we say I love you for the very first time</p>
          <div class="input-group-vertical">
            <input type="date" id="q3-input" class="styled-input">
            <button class="submit-question-btn" data-input="q3-input" data-correct-val="2014-10-04">Submit</button>
            <p class="error-msg hidden">Try again!</p>
          </div>
        </div>
        <div class="quote-section hidden-content">
          <p class="quote-text">"tezz horahetoh kaisa laga Hey se I love you tak ka safar"</p>
          <button class="continue-btn" data-next="question-overlay-4">Continue</button>
        </div>
      </div>
    </div>

    <!-- Q4 -->
    <div id="question-overlay-4" class="hidden question-slide">
      <div class="glass-panel">
        <div class="question-content">
          <h2>Question 4/4</h2>
          <img src="./question_4_propose.png" alt="Who do I Love" class="question-image" />
          <p class="question-text">who do I love the most?</p>
          <div class="input-group-vertical">
            <input type="text" id="q4-input" class="styled-input" placeholder="Type your answer..." autocomplete="off">
            <button class="submit-question-btn" data-input="q4-input" data-correct-val="angela|shona|me">Submit</button>
            <p class="error-msg hidden">That's not it...</p>
          </div>
        </div>
        <div class="quote-section hidden-content">
          <p class="quote-text">"bade tezz horahe ho hmmm"</p>
          <button class="continue-btn" data-next="proposal-overlay">Continue</button>
        </div>
      </div>
    </div>

    <div id="proposal-overlay" class="hidden">
      <div class="glass-panel">
        <h1>One Final Question...</h1>
        <img src="./proposal_old.png" alt="Grow Old With Me" class="question-image" />
        <p class="quote-text" style="font-style: italic; margin-bottom: 20px;">"Grow old with me?"</p>
        <p class="subtitle" id="proposal-text">Will you be my valentine?</p>

        <div class="button-group">
          <button id="yes-btn">YES</button>
          <button id="no-btn">NO</button>
        </div>
      </div>
    </div>

    <!-- Intro Animation Overlay -->
    <div id="love-overlay" class="hidden">
      <div class="love-content">
        <h1 class="love-title">I Love You</h1>
        <div class="floating-heart-icon">‚ù§Ô∏è</div>
        <div class="floating-heart-icon" style="top: 20%; left: 20%; animation-delay: 0.5s;">üíñ</div>
        <div class="floating-heart-icon" style="top: 70%; left: 80%; animation-delay: 1s;">üíò</div>
        <div class="floating-heart-icon" style="top: 30%; right: 20%; animation-delay: 1.5s;">üíù</div>
      </div>
    </div>

    <!-- Gallery UI (Scroll Helper & labels) -->
    <div id="gallery-ui" class="hidden">
      <!-- Old scroll indicator removed/hidden -->

      <div id="instructions">
        <p style="font-size:36px">Click to Explore</p>
        <p>Move: W, A, S, D<br />Look: Mouse</p>
      </div>

      <div id="gallery-labels"></div>
    </div>

    <div id="scene-container"></div>
  </div>
  <script type="module" src="/main.js"></script>
</body>

</html>